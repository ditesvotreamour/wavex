(function(){$.fn.smint=function(options){jQuery(this).addClass('smint')
var settings=jQuery.extend({'scrollSpeed ':500},options);var optionLocs=new Array();var lastScrollTop=0;var menuHeight=jQuery("").height();return jQuery('.smint a').each(function(index){if(settings.scrollSpeed){var scrollSpeed=settings.scrollSpeed}var id=jQuery(this).attr("id");optionLocs.push(Array(jQuery("div."+id).position().top-menuHeight,jQuery("div."+id).height()+jQuery("div."+id).position().top,id));var stickyTop=jQuery('.smint').offset().top;var stickyMenu=function(direction){var scrollTop=jQuery(window).scrollTop();if(scrollTop>stickyTop){jQuery('.smint').css({'position':'fixed','top':0}).addClass('fxd');}else{jQuery('.smint').css({'position':'absolute','top':stickyTop}).removeClass('fxd');}if(optionLocs[index][0]<=scrollTop&&scrollTop<=optionLocs[index][1]){if(direction=="up"){jQuery("#"+id).addClass("active");jQuery("#"+optionLocs[index+1][2]).removeClass("active");}else if(index>0){jQuery("#"+id).addClass("active");jQuery("#"+optionLocs[index-1][2]).removeClass("active");}else if(direction==undefined){jQuery("#"+id).addClass("active");}jQuery.each(optionLocs,function(i){if(id!=optionLocs[i][2]){console.log(i);jQuery("#"+optionLocs[i][2]).removeClass("active");}});}};stickyMenu();jQuery(window).scroll(function(){var st=jQuery(this).scrollTop();if(st>lastScrollTop){direction="down";}else if(st<lastScrollTop){direction="up";}lastScrollTop=st;stickyMenu(direction);if(jQuery(window).scrollTop()+jQuery(window).height()==jQuery(document).height()){jQuery('.smint a').removeClass('active')
jQuery('.smint a').last().addClass('active')}});jQuery(this).on('click',function(e){var selectorHeight=jQuery('.smint').height();e.preventDefault();var id=jQuery(this).attr('id');if(jQuery(this).hasClass("smint-disable")){return false;}var goTo=jQuery('div.'+id).offset().top-selectorHeight;jQuery("html, body").animate({scrollTop:goTo},scrollSpeed);});});}})(jQuery);